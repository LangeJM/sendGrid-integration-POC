(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{40:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(14),r=c.n(s),i=(c(40),c(7)),l=(c(41),c(20)),m=c(11),o=c.n(m),u=c(21),d=c(22),j=c.n(d),b="https://api.sendgrid.com/v3",f={headers:{Authorization:"Bearer ".concat("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")}},h=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(b).concat("/templates?page_size=10&generations=legacy&generations=dynamic"),f);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(b).concat("/templates/").concat(t),f);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=c(70),x=c(2),v=function(e){var t=Object(a.useState)(""),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(""),l=Object(i.a)(r,2),m=l[0],o=l[1],u=Object(a.useState)(""),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){n||m||(s(e.templateId),o(e.templateTitle),b(e.templateVersionId))}),[m,n,j]),Object(x.jsx)(p.a.Item,{style:{width:"20em"},onClick:function(){return e.handleClick(n,m,j)},href:"#".concat(n),children:m})},E=c(35),g=function(e){var t=Object(a.useState)(""),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(""),m=Object(i.a)(r,2),o=m[0],u=m[1],d=Object(a.useState)("Choose Email Template"),j=Object(i.a)(d,2),b=j[0],f=j[1];Object(a.useEffect)((function(){h().then((function(e){g(e.data.result)})).catch((function(e){return console.log(e)}))}),[]);var g=function(e){var t,c=[],a=Object(l.a)(e);try{for(a.s();!(t=a.n()).done;){var n,r=t.value,i=Object(l.a)(r.versions);try{for(i.s();!(n=i.n()).done;){var m=n.value;if(1===m.active){var o={id:m.template_id,subject:m.subject,activeVersionId:m.id};c.push(o)}}}catch(u){i.e(u)}finally{i.f()}}}catch(u){a.e(u)}finally{a.f()}s(c)},N=function(e,t){f(t),O(e).then((function(e){var t=e.data.versions[0].html_content.split("<body>")[1].split("</body>")[0];u(t)})).catch((function(e){return console.log(e)}))};return Object(x.jsxs)("div",{id:"templatesContainer",className:"d-flex flex-column m-3 align-items-center w-75",children:[Object(x.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(x.jsx)("h5",{className:"pt-1 mr-3",children:"Email Templates:"}),Object(x.jsxs)(p.a,{children:[Object(x.jsx)(p.a.Toggle,{variant:"light",id:"dropdown",style:{width:"20em"},children:b}),Object(x.jsx)(p.a.Menu,{children:n&&n.map((function(e){return Object(x.jsx)(v,{templateId:e.id,templateTitle:e.subject,templateVersionId:e.activeVersionId,handleClick:N},e.id)}))})]})]}),Object(x.jsxs)("div",{id:"templateContent",className:"mt-3 w-75 border border-light",children:[Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:o}}),o&&Object(x.jsx)(E.a,{className:"dark mt-3 float-right w-25",disabled:!e.activeCustomerEmail,onClick:function(){alert("Email has been sent!")},children:"Send Email"})]})]})},N=function(e){var t=[{customerEnum:1,label:"Welcome",sent:!!e.customerEnums[1]},{customerEnum:2,label:"Onboarding",sent:!!e.customerEnums[2]},{customerEnum:3,label:"Complete Profile",sent:!!e.customerEnums[3]},{customerEnum:4,label:"Proposal sent",sent:!!e.customerEnums[4]},{customerEnum:5,label:"Proposal updated",sent:!!e.customerEnums[5]},{customerEnum:6,label:"Proposal confirmed",sent:!!e.customerEnums[6]},{customerEnum:7,label:"Contract signed",sent:!!e.customerEnums[7]},{customerEnum:8,label:"Contract signed",sent:!!e.customerEnums[8]}];return Object(x.jsxs)("div",{id:"emailTemplatesContainer",className:"d-flex flex-column m-3 align-items-center",children:[Object(x.jsx)("div",{id:"templatesHeader",children:Object(x.jsx)("h5",{className:"pt-1",children:"Customer Cycle"})}),Object(x.jsx)("div",{id:"templates",className:"mt-1",children:t.map((function(e,t){return Object(x.jsx)("div",{className:"d-flex flex-column align-items-center mt-0",children:Object(x.jsx)(E.a,{className:"my-3 w-100 p-2 ".concat(e.sent?"btn-success":"btn-danger"),children:e.label},e.customerEnum)},e.customerEnum)}))})]})},y=c(12),C=function(e){var t=Object(a.useState)(e.customer.customerEnums),c=Object(i.a)(t,2),n=(c[0],c[1],Object(a.useState)("bg-light")),s=Object(i.a)(n,2),r=s[0],l=s[1];Object(a.useEffect)((function(){e.activeCustomerEmail===e.customer.email?l("primary"):l("")}),[e.activeCustomerEmail,e.customer.email]);var m=e.customer,o=m.email,u=m.firstName,d=m.lastName,j=m.street,b=m.city;return Object(x.jsx)(y.a,{className:"bg-light m-2 flex-fill",border:"".concat(r),onClick:function(){e.handleCustomerClick(e.customer.customerEnums,e.customer.email)},children:Object(x.jsxs)(y.a.Body,{children:[Object(x.jsx)(y.a.Title,{children:"".concat(u," ").concat(d)}),Object(x.jsxs)(y.a.Text,{as:"div",children:[Object(x.jsx)("p",{className:"mb-1",children:j}),Object(x.jsx)("p",{className:"mb-1",children:b}),Object(x.jsx)("p",{className:"mb-1",children:o})]})]})},o)},k=(c(65),function(){return Object(x.jsx)("header",{className:"stylingHeader",children:Object(x.jsx)("h1",{className:"justify-content-center",children:"Sendgrid-Email-Template Mockup"})})}),S=[{firstName:"Lior",lastName:"Roil",street:"Rothschild Blvd 50",city:"Tel Aviv-Yafo, 61000",email:"lior@roil.co.il",customerEnums:{1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0}},{firstName:"Maor",lastName:"Roam",street:"HaGefen 50",city:"Kfar Saba, 41000",email:"maor@roam.co.il",customerEnums:{1:!0,2:!0,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1}},{firstName:"Riut",lastName:"Tuir",street:"HaDekel 1",city:"Raanana, 55000",email:"riut@tuir.co.il",customerEnums:{1:!0,2:!0,3:!1,4:!0,5:!0,6:!1,7:!1,8:!1}},{firstName:"Peter",lastName:"Retep",street:"HaHatul 7",city:"Bat Yam, 31000",email:"peter@retep.co.il",customerEnums:{1:!0,2:!0,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1}},{firstName:"Lucy",lastName:"Ycul",street:"HaKelev 13",city:"Holon, 59000",email:"lucy@Ycul.co.il",customerEnums:{1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!1,8:!0}}];var w=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),l=r[0],m=r[1],o=function(e,t){n(e),m(t)};return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(k,{}),Object(x.jsx)("div",{className:"d-flex flex-row justify-content-center",children:S&&S.map((function(e){return Object(x.jsx)(C,{customer:e,activeCustomerEmail:l,handleCustomerClick:o},e.email)}))}),Object(x.jsxs)("div",{className:"d-flex flex-row mx-5",children:[Object(x.jsx)(N,{customerEnums:c}),Object(x.jsx)(g,{activeCustomerEmail:l})]})]})},T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(w,{})}),document.getElementById("root")),T()}},[[66,1,2]]]);
//# sourceMappingURL=main.b8efaf1c.chunk.js.map