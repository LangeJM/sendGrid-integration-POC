(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{40:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(14),r=c.n(s),i=(c(40),c(7)),l=(c(41),c(20)),o=c(11),m=c.n(o),u=c(21),d=c(22),j=c.n(d),b="https://api.sendgrid.com/v3",f={headers:{Authorization:"Bearer ".concat("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")}},h=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(b).concat("/templates?page_size=10&generations=legacy&generations=dynamic"),f);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(b).concat("/templates/").concat(t),f);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=c(70),x=c(2),v=function(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],m=l[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(n.useEffect)((function(){a||o||(s(e.templateId),m(e.templateTitle),b(e.templateVersionId))}),[o,a,j]),Object(x.jsx)(O.a.Item,{style:{width:"20em"},onClick:function(){return e.handleClick(a,o,j)},href:"#".concat(a),children:o})},g=c(35),E=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),o=r[0],m=r[1],u=Object(n.useState)("Choose Email Template"),d=Object(i.a)(u,2),j=d[0],b=d[1];Object(n.useEffect)((function(){h().then((function(e){f(e.data.result),console.log("Raw API response: ",e.data.result)})).catch((function(e){return console.log(e)}))}),[]);var f=function(e){var t,c=[],n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){var s,r=t.value,i=Object(l.a)(r.versions);try{for(i.s();!(s=i.n()).done;){var o=s.value;if(1===o.active){var m={id:o.template_id,subject:o.subject,activeVersionId:o.id};c.push(m)}}}catch(u){i.e(u)}finally{i.f()}}}catch(u){n.e(u)}finally{n.f()}a(c)},E=function(e,t){b(t),p(e).then((function(e){var t=e.data.versions[0].html_content.split("<body>")[1].split("</body>")[0];m(t),console.log(e.data)})).catch((function(e){return console.log(e)}))};return console.log(c),Object(x.jsxs)("div",{id:"templatesContainer",className:"d-flex flex-column m-3 align-items-center w-75",children:[Object(x.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(x.jsx)("h5",{className:"pt-1 mr-3",children:"Email Templates:"}),Object(x.jsxs)(O.a,{children:[Object(x.jsx)(O.a.Toggle,{variant:"light",id:"dropdown",style:{width:"20em"},children:j}),Object(x.jsx)(O.a.Menu,{children:c&&c.map((function(e){return Object(x.jsx)(v,{templateId:e.id,templateTitle:e.subject,templateVersionId:e.activeVersionId,handleClick:E},e.id)}))})]})]}),Object(x.jsxs)("div",{id:"templateContent",className:"mt-3 w-75 border border-light",children:[Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:o}}),o&&Object(x.jsx)(g.a,{className:"dark mt-3 float-right w-25",children:"Send Email"})]})]})},N=function(e){var t=[{customerEnum:1,label:"Welcome",sent:!!e.customerEnums[1]},{customerEnum:2,label:"Onboarding",sent:!!e.customerEnums[2]},{customerEnum:3,label:"Complete Profile",sent:!!e.customerEnums[3]},{customerEnum:4,label:"Proposal sent",sent:!!e.customerEnums[4]},{customerEnum:5,label:"Proposal updated",sent:!!e.customerEnums[5]},{customerEnum:6,label:"Proposal confirmed",sent:!!e.customerEnums[6]},{customerEnum:7,label:"Contract signed",sent:!!e.customerEnums[7]},{customerEnum:8,label:"Contract signed",sent:!!e.customerEnums[8]}];return Object(x.jsxs)("div",{id:"emailTemplatesContainer",className:"d-flex flex-column m-3 align-items-center",children:[Object(x.jsx)("div",{id:"templatesHeader",children:Object(x.jsx)("h5",{className:"pt-2 something",children:"Customer Cycle"})}),Object(x.jsx)("div",{id:"templates",className:"mt-1",children:t.map((function(e,t){return Object(x.jsx)("div",{className:"d-flex flex-column align-items-center mt-0",children:Object(x.jsx)(g.a,{className:"my-3 w-100 p-2 ".concat(e.sent?"btn-success":"btn-danger"),children:e.label},e.customerEnum)},e.customerEnum)}))})]})},y=c(12),C=function(e){var t=Object(n.useState)(e.customer.customerEnums),c=Object(i.a)(t,2),a=(c[0],c[1],Object(n.useState)("bg-light")),s=Object(i.a)(a,2),r=s[0],l=s[1];Object(n.useEffect)((function(){e.activeCustomerEmail===e.customer.email?l("primary"):l("")}),[e.activeCustomerEmail,e.customer.email]);var o=e.customer,m=o.email,u=o.firstName,d=o.lastName,j=o.street,b=o.city;return Object(x.jsx)(y.a,{className:"bg-light m-2 flex-fill",border:"".concat(r),onClick:function(){e.handleCustomerClick(e.customer.customerEnums,e.customer.email)},children:Object(x.jsxs)(y.a.Body,{children:[Object(x.jsx)(y.a.Title,{children:"".concat(u," ").concat(d)}),Object(x.jsxs)(y.a.Text,{as:"div",children:[Object(x.jsx)("p",{className:"mb-1",children:j}),Object(x.jsx)("p",{className:"mb-1",children:b}),Object(x.jsx)("p",{className:"mb-1",children:m})]})]})},m)},w=(c(65),function(){return Object(x.jsx)("header",{className:"stylingHeader",children:Object(x.jsx)("h1",{className:"justify-content-center",children:"Sendgrid-Email-Template Mockup"})})}),S=[{firstName:"Lior",lastName:"Roil",street:"Rothschild Blvd 50",city:"Tel Aviv-Yafo, 61000",email:"lior@roil.co.il",customerEnums:{1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0}},{firstName:"Maor",lastName:"Roam",street:"HaGefen 50",city:"Kfar Saba, 41000",email:"maor@roam.co.il",customerEnums:{1:!0,2:!0,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1}},{firstName:"Riut",lastName:"Tuir",street:"HaDekel 1",city:"Raanana, 55000",email:"riut@tuir.co.il",customerEnums:{1:!0,2:!0,3:!1,4:!0,5:!0,6:!1,7:!1,8:!1}},{firstName:"Peter",lastName:"Retep",street:"HaHatul 7",city:"Bat Yam, 31000",email:"peter@retep.co.il",customerEnums:{1:!0,2:!0,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1}},{firstName:"Lucy",lastName:"Ycul",street:"HaKelev 13",city:"Holon, 59000",email:"lucy@Ycul.co.il",customerEnums:{1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!1,8:!0}}];var k=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1],m=function(e,t){a(e),o(t)};return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(w,{}),Object(x.jsx)("div",{className:"d-flex flex-row justify-content-center",children:S&&S.map((function(e){return Object(x.jsx)(C,{customer:e,activeCustomerEmail:l,handleCustomerClick:m},e.email)}))}),Object(x.jsxs)("div",{className:"d-flex flex-row mx-5",children:[Object(x.jsx)(N,{customerEnums:c}),Object(x.jsx)(E,{})]})]})},T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root")),T()}},[[66,1,2]]]);
//# sourceMappingURL=main.4e8ce5d3.chunk.js.map